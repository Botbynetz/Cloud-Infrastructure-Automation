# Backend S3 configuration for Terraform state - Production Environment
# Usage: terraform init -backend-config=backend/prod.conf

bucket         = "cloud-infra-terraform-state"
key            = "prod/terraform.tfstate"
region         = "ap-southeast-1"
encrypt        = true
dynamodb_table = "cloud-infra-terraform-locks"

# Enable versioning for state history
versioning = true

# Server-side encryption with KMS (MANDATORY for production)
# TODO: Replace with actual KMS key ARN from terraform/modules/kms outputs
# Get with: terraform output -raw aws_kms_terraform_state_key_arn
kms_key_id = "alias/cloud-infra-prod-terraform-state"

# Access logging for audit
acl = "private"

# Prevent accidental deletion
skip_metadata_api_check = false

# Enable MFA delete protection (recommended)
# Requires bucket versioning enabled first
