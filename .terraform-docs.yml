# =============================================================================
# Terraform Documentation Configuration - STEP 8
# =============================================================================
# Automated documentation generation for Cloud Infrastructure Automation
# Project: Enterprise-grade Infrastructure as Code
# Generated: 2025-11-20

version: "0.16"

formatter: markdown table

header-from: main.tf

recursive:
  enabled: true
  path: modules

sections:
  show:
    - header
    - requirements
    - providers
    - modules
    - resources
    - inputs
    - outputs

content: |-
  {{ .Header }}

  ## ğŸ¯ Overview
  
  This module is part of the **Cloud Infrastructure Automation Platform** - an enterprise-grade, 
  production-ready infrastructure solution with comprehensive security, monitoring, and compliance.
  
  **Module Path**: `{{ .Module.Path }}`  
  **Generated**: {{ now | date "2006-01-02 15:04:05 MST" }}  
  **Terraform Version**: {{ .Requirements }}

  ## ğŸ—ï¸ Architecture

  This module provides infrastructure components with the following capabilities:
  - Multi-environment support (dev, staging, prod, dr)
  - Security hardening and compliance
  - Cost optimization and monitoring
  - Automated testing and validation
  - Full observability and alerting

  ## ğŸ“‹ Requirements

  {{ .Requirements }}

  ## ğŸ”Œ Providers

  {{ .Providers }}

  ## ğŸ“¦ Modules

  {{ .Modules }}

  ## ğŸš€ Resources

  {{ .Resources }}

  ## âš™ï¸ Inputs

  {{ .Inputs }}

  ## ğŸ“¤ Outputs

  {{ .Outputs }}

  ## ğŸ’¡ Usage Example

  ```hcl
  module "example" {
    source = "./terraform/modules/{{ .Module.Name }}"
    
    # Environment configuration
    environment  = "prod"
    project_name = "cloud-infrastructure-automation"
    
    # Security settings
    kms_key_id = aws_kms_key.main.id
    
    # Network configuration
    vpc_id     = module.vpc.vpc_id
    subnet_ids = module.vpc.private_subnet_ids
    
    # Tags
    tags = {
      Project     = "Cloud-Infrastructure-Automation"
      Environment = "prod"
      ManagedBy   = "Terraform"
      Owner       = "Platform-Team"
    }
  }
  ```

  ## ğŸ”— Integration

  This module integrates with the complete enterprise stack:

  | Step | Component | Integration |
  |------|-----------|-------------|
  | 1 | Multi-Environment | Base infrastructure setup |
  | 2 | Security & Secrets | KMS encryption, secrets management |
  | 3 | Policy-as-Code | OPA validation, compliance checks |
  | 4 | CI/CD Pipeline | Automated deployment workflows |
  | 5 | Testing | Terratest validation |
  | 6 | FinOps | Cost tracking and optimization |
  | 7 | Observability | Prometheus/Grafana monitoring |
  | 8 | Documentation | Auto-generated docs |

  ## ğŸ“š Documentation

  - [Main Documentation](../../docs/)
  - [Architecture Guide](../../docs/architecture.md)
  - [Deployment Guide](../../docs/DEPLOYMENT-GUIDE.md)
  - [Monitoring Guide](../../docs/MONITORING_GUIDE.md)
  - [Best Practices](../../docs/BEST_PRACTICES.md)

  ## ğŸ”’ Security

  This module implements:
  - Encryption at rest and in transit
  - IAM least privilege access
  - Network security groups
  - AWS Config compliance rules
  - GuardDuty threat detection

  ## ğŸ’° Cost Optimization

  - Infracost integration for cost estimation
  - Resource tagging for cost allocation
  - Automated cost anomaly detection
  - Budget alerts and notifications

  ## ğŸ“Š Monitoring

  - CloudWatch metrics and alarms
  - Prometheus scraping endpoints
  - Grafana dashboards
  - Alert routing to PagerDuty/Slack

  ## ğŸ§ª Testing

  Run tests with:
  ```bash
  cd test
  go test -v -timeout 30m
  ```

  ---
  *Auto-generated by terraform-docs v0.16 - STEP 8: Documentation Automation*

output:
  file: README.md
  mode: inject
  template: |-
    <!-- BEGIN_TF_DOCS -->
    {{ .Content }}
    <!-- END_TF_DOCS -->

output-values:
  enabled: false
  from: ""

sort:
  enabled: true
  by: name

settings:
  anchor: true
  color: true
  default: true
  description: true
  escape: true
  hide-empty: false
  html: true
  indent: 2
  lockfile: true
  read-comments: true
  required: true
  sensitive: true
  type: true
